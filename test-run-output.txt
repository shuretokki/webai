
   PASS  Tests\Unit\ExampleTest
  ✓ that true is true

   PASS  Tests\Feature\AttachmentObserverTest
  ✓ file is deleted from disk when attachment is force deleted           0.27s  
  ✓ file persists when attachment is soft deleted                        0.02s  
  ✓ files are deleted when chat is deleted via cascade                   0.02s  

   FAIL  Tests\Feature\Auth\AuthenticationTest
  ✓ login screen can be rendered                                         0.06s  
  ⨯ users can authenticate using the login screen                        0.05s  
  ✓ users with two factor enabled are redirected to two factor challeng… 0.04s  
  ✓ users can not authenticate with invalid password                     0.04s  
  ✓ users can logout                                                     0.04s  
  ✓ users are rate limited                                               0.04s  

   FAIL  Tests\Feature\Auth\EmailVerificationTest
  ✓ email verification screen can be rendered                            0.05s  
  ⨯ email can be verified                                                0.04s  
  ✓ email is not verified with invalid hash                              0.04s  
  ✓ email is not verified with invalid user id                           0.04s  
  ⨯ verified user is redirected to dashboard from verification prompt    0.04s  
  ⨯ already verified user visiting verification link is redirected with… 0.04s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  ✓ confirm password screen can be rendered                              0.05s  
  ✓ password confirmation requires authentication                        0.04s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  ✓ reset password link screen can be rendered                           0.04s  
  ✓ reset password link can be requested                                 0.24s  
  ✓ reset password screen can be rendered                                0.24s  
  ✓ password can be reset with valid token                               0.25s  
  ✓ password cannot be reset with invalid token                          0.24s  

   FAIL  Tests\Feature\Auth\RegistrationTest
  ✓ registration screen can be rendered                                  0.04s  
  ⨯ new users can register                                               0.04s  

   PASS  Tests\Feature\Auth\TwoFactorChallengeTest
  ✓ two factor challenge redirects to login when not authenticated       0.04s  
  ✓ two factor challenge can be rendered                                 0.04s  

   FAIL  Tests\Feature\Auth\VerificationNotificationTest
  ✓ sends verification notification                                      0.04s  
  ⨯ does not send verification notification if email is verified         0.04s  

   FAIL  Tests\Feature\AvatarUploadTest
  ⨯ it can upload avatar successfully                                    0.37s  
  ✓ it validates avatar is required                                      0.04s  
  ⨯ it validates avatar must be an image                                 0.31s  
  ⨯ it validates avatar must not exceed 800kb                            0.30s  
  ⨯ it accepts avatar at exactly 800kb                                   0.27s  
  ⨯ it validates avatar must be jpg, png, or gif                         0.28s  
  ⨯ it deletes old avatar when uploading new one                         0.27s  
  ⨯ it can disconnect social account                                     0.02s  

   FAIL  Tests\Feature\ChatAuthorizationTest
  ⨯ users cannot view other users chats                                  0.05s  
  ✓ guest cannot view any chats                                          0.04s  
  ⨯ users can view their own chats                                       0.04s  
  ⨯ users can view their own chats with messages                         0.04s  
  ⨯ users cannot delete other users chats                                0.04s  
  ✓ guest cannot delete any chats                                        0.04s  
  ⨯ users can delete their own chats                                     0.04s  
  ⨯ deleting non-existent chat returns 404                               0.04s  

   PASS  Tests\Feature\ChatModelSelectionTest
  ✓ free user can use free models                                        0.04s  
  ✓ free user cannot use paid models                                     0.04s  
  ✓ plus user can use paid models (demo mode)                            0.45s  

   FAIL  Tests\Feature\ChatRequestValidationTest
  ✓ chat request validates prompt is required                            0.04s  
  ✓ chat request validates prompt maximum length                         0.04s  
  ✓ chat request validates prompt must be string with dataset "array"    0.04s  
  ✓ chat request validates prompt must be string with dataset "object"   0.04s  
  ✓ chat request validates prompt must be string with dataset "integer"  0.04s  
  ✓ chat request validates prompt must be string with dataset "boolean"  0.04s  
  ✓ chat request accepts valid prompt at boundary                        0.04s  
  ⨯ chat request validates chat_id must exist                            0.04s  
  ✓ chat request accepts valid chat_id                                   0.04s  
  ✓ chat request validates model maximum length                          0.04s  
  ✓ chat request validates file mime types with dataset "jpeg valid"     0.05s  
  ✓ chat request validates file mime types with dataset "png valid"      0.05s  
  ✓ chat request validates file mime types with dataset "gif valid"      0.05s  
  ✓ chat request validates file mime types with dataset "pdf valid"      0.05s  
  ✓ chat request validates file mime types with dataset "txt valid"      0.04s  
  ✓ chat request validates file mime types with dataset "doc valid"      0.05s  
  ✓ chat request validates file mime types with dataset "docx valid"     0.05s  
  ✓ chat request validates file mime types with dataset "exe invalid"    0.05s  
  ✓ chat request validates file mime types with dataset "zip invalid"    0.04s  
  ✓ chat request validates file mime types with dataset "svg invalid"    0.04s  
  ✓ chat request validates file size limit                               0.04s  
  ✓ chat request accepts file at size boundary                           0.06s  
  ✓ chat request accepts multiple valid files                            0.05s  
  ✓ chat request rejects when any file in array is invalid               0.05s  
  ⨯ update chat request validates title is required                      0.04s  
  ⨯ update chat request validates title maximum length                   0.04s  
  ⨯ update chat request validates title must be string with dataset "ar… 0.04s  
  ⨯ update chat request validates title must be string with dataset "ob… 0.05s  
  ⨯ update chat request validates title must be string with dataset "in… 0.04s  
  ⨯ update chat request validates title must be string with dataset "bo… 0.04s  
  ⨯ update chat request accepts title at boundary                        0.04s  
  ⨯ update chat request enforces authorization                           0.04s  

   PASS  Tests\Feature\ChatTest
  ✓ it can generate text                                                 0.03s  

   FAIL  Tests\Feature\ConcurrencyTest
  ✓ concurrent chat creation does not create duplicate chats             0.06s  
  ✓ concurrent message creation in same chat maintains order             0.05s  
  ✓ concurrent requests correctly track usage count                      0.05s  
  ⨯ concurrent quota checks prevent over-limit execution                 0.07s  
  ⨯ concurrent chat deletions are idempotent                             0.05s  
  ⨯ concurrent chat updates maintain consistency                         0.05s  
  ✓ multiple users can create chats simultaneously                       0.06s  
  ✓ multiple users rate limits are independent                           0.05s  
  ⨯ concurrent searches by different users are isolated                  0.04s  
  ⨯ concurrent queue job execution maintains isolation                   0.02s  

   FAIL  Tests\Feature\ErrorRecoveryTest
  - handles database connection failure gracefully → requires database…  0.02s  
  ✓ recovers from transaction rollback                                   0.07s  
  ✓ handles ai api timeout gracefully                                    0.05s  
  ✓ handles ai api rate limit gracefully                                 0.04s  
  ✓ handles ai api invalid response                                      0.04s  
  ✓ handles storage disk full error                                      0.05s  
  ⨯ handles missing storage directory                                    0.22s  
  ⨯ handles failed queue job gracefully                                  0.02s  
  ⨯ retries failed jobs appropriately                                    0.02s  
  ✓ returns helpful error for missing required fields                    0.05s  
  ✓ returns helpful error for invalid data types                         0.04s  
  ✓ handles expired session gracefully                                   0.04s  
  ⨯ handles invalid csrf token                                           0.19s  
  ✓ handles quota exceeded error                                         0.09s  
  ✓ handles memory limit gracefully                                      0.25s  
  ✓ handles slow network connection                                      0.05s  
  ⨯ handles orphaned messages gracefully                                 0.05s  
  ⨯ handles invalid chat id format                                       0.05s  

   PASS  Tests\Feature\ExampleTest
  ✓ returns a successful response                                        0.05s  

   FAIL  Tests\Feature\IntegrationTest
  ⨯ complete user journey: register to chat deletion                     0.06s  
  ⨯ multi-chat workflow with search and pagination                       0.05s  
  ✓ quota limit workflow                                                 0.05s  
  ⨯ avatar upload and profile update flow                                0.17s  
  ⨯ password change and re-authentication flow                           0.18s  
  ⨯ two-factor authentication complete flow                              0.04s  
  ⨯ social authentication and account linking flow                       0.02s  
  ⨯ complete error and recovery flow                                     0.05s  

   FAIL  Tests\Feature\PerformanceTest
  ✓ chat creation response time is under 2 seconds                       0.06s  
  ✓ chat list page loads under 2 seconds                                 0.05s  
  ⨯ search response time is under 2 seconds                              0.06s  
  ⨯ chat deletion response time is under 2 seconds                       0.05s  
  ✓ chat list avoids n plus 1 queries                                    0.05s  
  ✓ search results avoid n plus 1 queries                                0.07s  
  ✓ chat creation uses reasonable memory                                 0.05s  
  ✓ large chat list uses reasonable memory                               0.07s  
  ✓ bulk chat deletion performs efficiently                              0.08s  
  ✓ multiple concurrent searches perform efficiently                     0.06s  
  ✓ repeated chat access is fast due to caching                          0.05s  
  ✓ paginated chat list performs consistently                            0.09s  

   FAIL  Tests\Feature\ProfileControllerTest
  ✓ it displays profile edit page                                        0.06s  
  ✓ it updates profile name                                              0.04s  
  ✓ it updates email and clears verification                             0.05s  
  ✓ it keeps verification when email unchanged                           0.04s  
  ⨯ it validates profile update requires name                            0.04s  
  ✓ it validates profile update requires valid email                     0.05s  
  ✓ it requires authentication for profile edit                          0.04s  
  ✓ it requires authentication for profile update                        0.04s  
  ✓ it requires authentication for profile deletion                      0.04s  
  ✓ it deletes user account with correct password                        0.04s  
  ✓ it prevents user deletion with incorrect password                    0.05s  
  ✓ it logs out user after account deletion                              0.04s  
  ✓ it invalidates session after account deletion                        0.05s  
  ⨯ it uploads avatar and returns url                                    0.27s  
  ✓ it requires authentication for avatar upload                         0.04s  

   FAIL  Tests\Feature\RateLimitingTest
  ⨯ chat stream enforces configured rate limit dynamically               0.06s  
  ✓ rate limit resets after time window                                  0.05s  
  ✓ different users have independent rate limits                         0.05s  

   FAIL  Tests\Feature\SearchTest
  ⨯ returns empty results for non-matching query                         0.04s  
  ⨯ finds chats by title                                                 0.04s  
  ⨯ finds messages by content                                            0.04s  
  ⨯ limits results correctly                                             0.05s  
  ⨯ prevents SQL injection via special character escaping                0.05s  
  ⨯ only returns current users data                                      0.05s  
  ✓ requires authentication                                              0.04s  

   FAIL  Tests\Feature\SecurityTest
  ⨯ chat prompt sanitizes script tags                                    0.05s  
  ⨯ chat title sanitizes html tags                                       0.05s  
  ⨯ search query sanitizes sql wildcard characters                       0.04s  
  ⨯ search query sanitizes underscore wildcard                           0.04s  
  ⨯ search prevents sql injection in query parameter                     0.04s  
  ✓ chat id parameter prevents sql injection                             0.04s  
  ✓ cannot access other user chat via id manipulation                    0.05s  
  ⨯ cannot update other user chat via parameter tampering                0.04s  
  ⨯ cannot delete other user chat via parameter tampering                0.05s  
  ✓ rejects executable files in chat upload                              0.05s  
  ✓ rejects php files in chat upload                                     0.04s  
  ✓ rejects oversized files to prevent dos                               0.04s  
  ✓ rate limiting blocks rapid fire requests                             0.05s  
  ✓ rejects extremely long prompts                                       0.04s  
  - application stores null byte in prompt without sanitization → null…  0.02s  

   PASS  Tests\Feature\Settings\PasswordUpdateTest
  ✓ password update page is displayed                                    0.06s  
  ✓ password can be updated                                              0.04s  
  ✓ correct password must be provided to update password                 0.04s  

   PASS  Tests\Feature\Settings\ProfileUpdateTest
  ✓ profile page is displayed                                            0.05s  
  ✓ profile information can be updated                                   0.04s  
  ✓ email verification status is unchanged when the email address is un… 0.05s  
  ✓ user can delete their account                                        0.05s  
  ✓ correct password must be provided to delete account                  0.04s  

   FAIL  Tests\Feature\Settings\TwoFactorAuthenticationTest
  ⨯ two factor settings page can be rendered                             0.23s  
  ✓ two factor settings page requires password confirmation when enable… 0.05s  
  ⨯ two factor settings page does not requires password confirmation wh… 0.25s  
  ⨯ two factor settings page returns forbidden response when two factor… 0.23s  

   PASS  Tests\Feature\SocialAuthenticationTest
  ✓ it redirects to github oauth provider                                0.05s  
  ✓ it redirects to google oauth provider                                0.04s  
  ✓ it logs in existing user with social account                         0.05s  
  ✓ it links social account to existing user by email                    0.04s  
  ✓ it creates new user from social account                              0.04s  
  ✓ it sets avatar from social provider if user has no avatar            0.06s  
  ✓ it does not overwrite existing avatar                                0.05s  
  ✓ it disconnects social account successfully                           0.04s  
  ✓ it handles disconnect when no social account exists                  0.04s  
  ✓ it requires authentication to disconnect account                     0.04s  
  ✓ it uses nickname as fallback when name is not provided               0.04s  

   PASS  Tests\Feature\UsageTrackingTest
  ✓ usage is recorded when message is sent                               0.05s  
  ✓ quota blocks requests at limit                                       0.07s  
  ✓ quota allows request just under limit                                0.07s  
  ✓ quota is user-specific                                               0.07s  
  ✓ cost calculation is accurate for ai responses                        0.02s  
  ✓ cost calculation handles zero tokens correctly                       0.02s  
  ✓ cost calculation handles large token counts                          0.02s  
  ✓ cost calculation is accurate for file uploads                        0.02s  
  ✓ file upload cost scales with size                                    0.02s  
  ✓ current month usage aggregates correctly                             0.02s  
  ✓ file upload tracks bytes correctly                                   0.04s  
  ✓ has exceeded quota returns true when limit reached                   0.04s  
  ✓ has exceeded quota returns false when under limit                    0.03s  
  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\AuthenticationTest > users can authenticate us…   
  Failed asserting that two strings are equal.
  -'http://localhost/chat'
  +'http://localhost/c'
  

  at tests/Feature/Auth/AuthenticationTest.php:22
     18▕         'password' => 'password',
     19▕     ]);
     20▕ 
     21▕     $this->assertAuthenticated();
  ➜  22▕     $response->assertRedirect('/chat');
     23▕ });
     24▕ 
     25▕ test('users with two factor enabled are redirected to two factor challenge', function () {
     26▕     if (! Features::canManageTwoFactorAuthentication()) {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\EmailVerificationTest > email can be verified     
  Failed asserting that two strings are equal.
  -'http://localhost/chat?verified=1'
  +'http://localhost/c?verified=1'
  

  at tests/Feature/Auth/EmailVerificationTest.php:31
     27▕     $response = $this->actingAs($user)->get($verificationUrl);
     28▕ 
     29▕     Event::assertDispatched(Verified::class);
     30▕     expect($user->fresh()->hasVerifiedEmail())->toBeTrue();
  ➜  31▕     $response->assertRedirect('/chat?verified=1');
     32▕ });
     33▕ 
     34▕ test('email is not verified with invalid hash', function () {
     35▕     $user = User::factory()->unverified()->create();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\EmailVerificationTest > verified user is redir…   
  Failed asserting that two strings are equal.
  -'http://localhost/chat'
  +'http://localhost/c'
  

  at tests/Feature/Auth/EmailVerificationTest.php:76
     72▕ 
     73▕     $response = $this->actingAs($user)->get(route('verification.notice'));
     74▕ 
     75▕     Event::assertNotDispatched(Verified::class);
  ➜  76▕     $response->assertRedirect('/chat');
     77▕ });
     78▕ 
     79▕ test('already verified user visiting verification link is redirected without firing event again', function () {
     80▕     $user = User::factory()->create();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\EmailVerificationTest > already verified user…    
  Failed asserting that two strings are equal.
  -'http://localhost/chat?verified=1'
  +'http://localhost/c?verified=1'
  

  at tests/Feature/Auth/EmailVerificationTest.php:91
     87▕         ['id' => $user->id, 'hash' => sha1($user->email)]
     88▕     );
     89▕ 
     90▕     $this->actingAs($user)->get($verificationUrl)
  ➜  91▕         ->assertRedirect('/chat?verified=1');
     92▕ 
     93▕     Event::assertNotDispatched(Verified::class);
     94▕     expect($user->fresh()->hasVerifiedEmail())->toBeTrue();
     95▕ });

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\RegistrationTest > new users can register         
  Failed asserting that two strings are equal.
  -'http://localhost/chat'
  +'http://localhost/c'
  

  at tests/Feature/Auth/RegistrationTest.php:18
     14▕         'password_confirmation' => 'password',
     15▕     ]);
     16▕ 
     17▕     $this->assertAuthenticated();
  ➜  18▕     $response->assertRedirect('/chat');
     19▕ });
     20▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Auth\VerificationNotificationTest > does not send v…   
  Failed asserting that two strings are equal.
  -'http://localhost/chat'
  +'http://localhost/c'
  

  at tests/Feature/Auth/VerificationNotificationTest.php:26
     22▕     $user = User::factory()->create();
     23▕ 
     24▕     $this->actingAs($user)
     25▕         ->post(route('verification.send'))
  ➜  26▕         ->assertRedirect('/chat');
     27▕ 
     28▕     Notification::assertNothingSent();
     29▕ });
     30▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it can upload avatar successfull…   
  Expected response status code [>=200, <300] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(22): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:17}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(17): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_can_upload_avatar_successfully()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:26
     22▕         ->post(route('avatar.upload'), [
     23▕             'avatar' => $file,
     24▕         ]);
     25▕ 
  ➜  26▕     $response->assertSuccessful();
     27▕     $response->assertJsonStructure(['url']);
     28▕     $response->assertJson(fn ($json) =>
     29▕         $json->has('url')
     30▕              ->etc()

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it validates avatar must be an i…   
  Session is missing expected key [errors].
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(58): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:53}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(35): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_validates_avatar_must_be_an_image()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:62
     58▕         ->post(route('avatar.upload'), [
     59▕             'avatar' => $file,
     60▕         ]);
     61▕ 
  ➜  62▕     $response->assertSessionHasErrors('avatar');
     63▕     $response->assertStatus(302);
     64▕ 
     65▕     // Verify no avatar was set
     66▕     expect($user->fresh()->avatar)->toBeNull();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it validates avatar must not exc…   
  Session is missing expected key [errors].
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(74): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:69}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(44): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_validates_avatar_must_not_exceed_800kb()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:78
     74▕         ->post(route('avatar.upload'), [
     75▕             'avatar' => $file,
     76▕         ]);
     77▕ 
  ➜  78▕     $response->assertSessionHasErrors('avatar');
     79▕     $response->assertStatus(302);
     80▕     expect($user->fresh()->avatar)->toBeNull();
     81▕ });
     82▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it accepts avatar at exactly 800…   
  Expected response status code [>=200, <300] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(88): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:83}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(53): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_accepts_avatar_at_exactly_800kb()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:92
     88▕         ->post(route('avatar.upload'), [
     89▕             'avatar' => $file,
     90▕         ]);
     91▕ 
  ➜  92▕     $response->assertSuccessful();
     93▕     expect($user->fresh()->avatar)->not->toBeNull();
     94▕ });
     95▕ 
     96▕ it('validates avatar must be jpg, png, or gif', function () {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it validates avatar must be jpg,…   
  Session is missing expected key [errors].
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(101): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:96}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(62): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_validates_avatar_must_be_jpg__png__or_gif()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:105
    101▕         ->post(route('avatar.upload'), [
    102▕             'avatar' => $file,
    103▕         ]);
    104▕ 
  ➜ 105▕     $response->assertSessionHasErrors('avatar');
    106▕     $response->assertStatus(302);
    107▕ 
    108▕     // Verify in database
    109▕     $user->refresh();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it deletes old avatar when uploa…   
  Expected response status code [>=200, <300] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php(124): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\AvatarUploadTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/AvatarUploadTest.php:116}()
#79 [internal function]: P\Tests\Feature\AvatarUploadTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\AvatarUploadTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\AvatarUploadTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(71): P\Tests\Feature\AvatarUploadTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\AvatarUploadTest->__pest_evaluable_it_deletes_old_avatar_when_uploading_new_one()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\AvatarUploadTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/AvatarUploadTest.php:128
    124▕         ->post(route('avatar.upload'), [
    125▕             'avatar' => $file,
    126▕         ]);
    127▕ 
  ➜ 128▕     $response->assertSuccessful();
    129▕ 
    130▕     // Verify old file deleted
    131▕     Storage::disk('public')->assertMissing($oldPath);
    132▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\AvatarUploadTest > it can disconnect social account    
  Failed asserting that a row in the table [social_identities] matches the attributes {
    "id": 1,
    "user_id": 1,
    "provider": "github"
}.

Found similar results: [
    {
        "id": 1,
        "user_id": 1,
        "\"provider\"": "provider"
    }
].

  at tests/Feature/AvatarUploadTest.php:144
    140▕ it('can disconnect social account', function () {
    141▕     $user = User::factory()->create();
    142▕     $socialIdentity = SocialIdentity::factory()->github()->create(['user_id' => $user->id]);
    143▕ 
  ➜ 144▕     assertDatabaseHas('social_identities', [
    145▕         'id' => $socialIdentity->id,
    146▕         'user_id' => $user->id,
    147▕         'provider' => 'github',
    148▕     ]);

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > users cannot view other use…   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/ChatAuthorizationTest.php:21
     17▕ 
     18▕     $response = $this->actingAs($intruder)
     19▕         ->get("/c/{$chat->id}");
     20▕ 
  ➜  21▕     $response->assertForbidden();
     22▕     $response->assertDontSeeText($chat->title);
     23▕ 
     24▕     // Verify database state unchanged
     25▕     expect($chat->fresh())->not->toBeNull();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > users can view their own ch…   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ChatAuthorizationTest.php:47
     43▕ 
     44▕     $response = $this->actingAs($user)
     45▕         ->get("/c/{$chat->id}");
     46▕ 
  ➜  47▕     $response->assertOk();
     48▕     
     49▕     /**
     50▕      * Verify user can access their own chat
     51▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > users can view their own ch…   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ChatAuthorizationTest.php:66
     62▕ 
     63▕     $response = $this->actingAs($user)
     64▕         ->get("/c/{$chat->id}");
     65▕ 
  ➜  66▕     $response->assertOk();
     67▕     
     68▕     /**
     69▕      * Verify messages exist in database
     70▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > users cannot delete other u…   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/ChatAuthorizationTest.php:85
     81▕ 
     82▕     $response = $this->actingAs($intruder)
     83▕         ->delete("/c/{$chat->id}");
     84▕ 
  ➜  85▕     $response->assertForbidden();
     86▕ 
     87▕     // Verify chat still exists and unchanged
     88▕     $freshChat = $chat->fresh();
     89▕     expect($freshChat)->not->toBeNull();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > users can delete their own…    
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/ChatAuthorizationTest.php:120
    116▕ 
    117▕     $response = $this->actingAs($user)
    118▕         ->delete("/c/{$chat->id}");
    119▕ 
  ➜ 120▕     $response->assertRedirect();
    121▕ 
    122▕     /**
    123▕      * Verify soft delete
    124▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatAuthorizationTest > deleting non-existent chat…    
  Expected response status code [404] but received 302.
Failed asserting that 302 is identical to 404.

  at tests/Feature/ChatAuthorizationTest.php:143
    139▕     $user = User::factory()->create();
    140▕ 
    141▕     $this->actingAs($user)
    142▕         ->delete('/chat/99999')
  ➜ 143▕         ->assertNotFound();
    144▕ });
    145▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > chat request validates…    
  Expected response status code [422] but received 403.
Failed asserting that 403 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:74
     70▕         'chat_id' => 99999, // Non-existent
     71▕         'model' => 'gemini-2.5-flash-lite',
     72▕     ]);
     73▕ 
  ➜  74▕     $response->assertStatus(422);
     75▕     $response->assertJsonValidationErrors(['chat_id']);
     76▕ });
     77▕ 
     78▕ test('chat request accepts valid chat_id', function () {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:204
    200▕     $chat = Chat::factory()->create(['user_id' => $this->user->id]);
    201▕ 
    202▕     $response = $this->patchJson("/c/{$chat->id}", []);
    203▕ 
  ➜ 204▕     $response->assertStatus(422);
    205▕     $response->assertJsonValidationErrors(['title']);
    206▕ });
    207▕ 
    208▕ test('update chat request validates title maximum length', function () {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:215
    211▕     $response = $this->patchJson("/c/{$chat->id}", [
    212▕         'title' => str_repeat('a', 256),
    213▕     ]);
    214▕ 
  ➜ 215▕     $response->assertStatus(422);
    216▕     $response->assertJsonValidationErrors(['title']);
    217▕ });
    218▕ 
    219▕ test('update chat request validates title must be string', function (mixed $invalidTitle) {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:226
    222▕     $response = $this->patchJson("/c/{$chat->id}", [
    223▕         'title' => $invalidTitle,
    224▕     ]);
    225▕ 
  ➜ 226▕     $response->assertStatus(422);
    227▕     $response->assertJsonValidationErrors(['title']);
    228▕ })->with([
    229▕     'array' => [['not', 'string']],
    230▕     'object' => [(object) ['key' => 'value']],

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:226
    222▕     $response = $this->patchJson("/c/{$chat->id}", [
    223▕         'title' => $invalidTitle,
    224▕     ]);
    225▕ 
  ➜ 226▕     $response->assertStatus(422);
    227▕     $response->assertJsonValidationErrors(['title']);
    228▕ })->with([
    229▕     'array' => [['not', 'string']],
    230▕     'object' => [(object) ['key' => 'value']],

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:226
    222▕     $response = $this->patchJson("/c/{$chat->id}", [
    223▕         'title' => $invalidTitle,
    224▕     ]);
    225▕ 
  ➜ 226▕     $response->assertStatus(422);
    227▕     $response->assertJsonValidationErrors(['title']);
    228▕ })->with([
    229▕     'array' => [['not', 'string']],
    230▕     'object' => [(object) ['key' => 'value']],

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request val…   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/ChatRequestValidationTest.php:226
    222▕     $response = $this->patchJson("/c/{$chat->id}", [
    223▕         'title' => $invalidTitle,
    224▕     ]);
    225▕ 
  ➜ 226▕     $response->assertStatus(422);
    227▕     $response->assertJsonValidationErrors(['title']);
    228▕ })->with([
    229▕     'array' => [['not', 'string']],
    230▕     'object' => [(object) ['key' => 'value']],

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request acc…   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at tests/Feature/ChatRequestValidationTest.php:242
    238▕     $response = $this->patchJson("/c/{$chat->id}", [
    239▕         'title' => str_repeat('a', 255),
    240▕     ]);
    241▕ 
  ➜ 242▕     $response->assertOk();
    243▕ 
    244▕     $chat->refresh();
    245▕     expect($chat->title)->toHaveLength(255);
    246▕ });

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ChatRequestValidationTest > update chat request enf…   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/ChatRequestValidationTest.php:256
    252▕     $response = $this->patchJson("/c/{$chat->id}", [
    253▕         'title' => 'Unauthorized Update',
    254▕     ]);
    255▕ 
  ➜ 256▕     $response->assertForbidden();
    257▕ 
    258▕     // Verify title unchanged
    259▕     $chat->refresh();
    260▕     expect($chat->title)->not->toBe('Unauthorized Update');

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ConcurrencyTest > concurrent quota checks prevent o…   
  Failed asserting that 0 is greater than 0.

  at tests/Feature/ConcurrencyTest.php:185
    181▕ 
    182▕     /**
    183▕      * Some requests should be blocked
    184▕      */
  ➜ 185▕     expect($blockedCount)->toBeGreaterThan(0);
    186▕ });
    187▕ 
    188▕ /*
    189▕ |--------------------------------------------------------------------------

  1   tests/Feature/ConcurrencyTest.php:185

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ConcurrencyTest > concurrent chat deletions are ide…   
  Failed asserting that 0 is equal to 1 or is greater than 1.

  at tests/Feature/ConcurrencyTest.php:221
    217▕ 
    218▕     /**
    219▕      * At least one should succeed
    220▕      */
  ➜ 221▕     expect($successCount)->toBeGreaterThanOrEqual(1);
    222▕ 
    223▕     /**
    224▕      * Chat should be soft deleted exactly once
    225▕      */

  1   tests/Feature/ConcurrencyTest.php:221

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ConcurrencyTest > concurrent chat updates maintain…    
  Failed asserting that 0 is identical to 5.

  at tests/Feature/ConcurrencyTest.php:258
    254▕     /**
    255▕      * All should succeed
    256▕      */
    257▕     $successCount = collect($responses)->filter(fn ($r) => in_array($r->getStatusCode(), [200, 302]))->count();
  ➜ 258▕     expect($successCount)->toBe(count($titles));
    259▕ 
    260▕     /**
    261▕      * Final title should be one of the attempted titles
    262▕      */

  1   tests/Feature/ConcurrencyTest.php:258

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ConcurrencyTest > concurrent searches by different…    
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/ConcurrencyTest.php:363
    359▕      */
    360▕     $response1 = $this->actingAs($user1)->get('/chat/search?q=Laravel');
    361▕     $response2 = $this->actingAs($user2)->get('/chat/search?q=Laravel');
    362▕ 
  ➜ 363▕     $response1->assertOk();
    364▕     $response2->assertOk();
    365▕ 
    366▕     /**
    367▕      * Each user should only see their own chat

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ConcurrencyTest > concurrent queue job execution ma…   
  The expected [App\Jobs\GenerateChatTitle] job was pushed 0 times instead of 3 times.
Failed asserting that 0 is identical to 3.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:128
    124▕     protected function assertPushedTimes($job, $times = 1)
    125▕     {
    126▕         $count = $this->pushed($job)->count();
    127▕ 
  ➜ 128▕         PHPUnit::assertSame(
    129▕             $times, $count,
    130▕             sprintf(
    131▕                 "The expected [{$job}] job was pushed {$count} %s instead of {$times} %s.",
    132▕                 Str::plural('time', $count),

      [2m+3 vendor frames [22m
  4   tests/Feature/ConcurrencyTest.php:406

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > handles missing storage directo…   
  Failed asserting that an array contains 405.

  at tests/Feature/ErrorRecoveryTest.php:199
    195▕ 
    196▕     /**
    197▕      * Should succeed or handle gracefully
    198▕      */
  ➜ 199▕     expect($response->getStatusCode())->toBeIn([200, 302, 500]);
    200▕ })->group('error-recovery');
    201▕ 
    202▕ /*
    203▕ |--------------------------------------------------------------------------

  1   tests/Feature/ErrorRecoveryTest.php:199

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > handles failed queue job gracef…   
  The expected [App\Jobs\GenerateChatTitle] job was not pushed.
Failed asserting that false is true.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:111
    107▕         if (is_numeric($callback)) {
    108▕             return $this->assertPushedTimes($job, $callback);
    109▕         }
    110▕ 
  ➜ 111▕         PHPUnit::assertTrue(
    112▕             $this->pushed($job, $callback)->count() > 0,
    113▕             "The expected [{$job}] job was not pushed."
    114▕         );
    115▕     }

      [2m+2 vendor frames [22m
  3   tests/Feature/ErrorRecoveryTest.php:227

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > retries failed jobs appropriate…   
  The expected [App\Jobs\GenerateChatTitle] job was pushed 0 times instead of 1 time.
Failed asserting that 0 is identical to 1.

  at vendor/laravel/framework/src/Illuminate/Support/Testing/Fakes/QueueFake.php:128
    124▕     protected function assertPushedTimes($job, $times = 1)
    125▕     {
    126▕         $count = $this->pushed($job)->count();
    127▕ 
  ➜ 128▕         PHPUnit::assertSame(
    129▕             $times, $count,
    130▕             sprintf(
    131▕                 "The expected [{$job}] job was pushed {$count} %s instead of {$times} %s.",
    132▕                 Str::plural('time', $count),

      [2m+3 vendor frames [22m
  4   tests/Feature/ErrorRecoveryTest.php:243

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > handles invalid csrf token         
  Failed asserting that an array contains 405.

  at tests/Feature/ErrorRecoveryTest.php:343
    339▕ 
    340▕     /**
    341▕      * Should handle gracefully (middleware disabled for test)
    342▕      */
  ➜ 343▕     expect($response->getStatusCode())->toBeIn([200, 302, 419]);
    344▕ })->group('error-recovery');
    345▕ 
    346▕ /*
    347▕ |--------------------------------------------------------------------------

  1   tests/Feature/ErrorRecoveryTest.php:343

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > handles orphaned messages grace…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/ErrorRecoveryTest.php:461
    457▕      * Search should not crash on orphaned messages
    458▕      */
    459▕     $response = $this->actingAs($user)->get('/chat/search?q=test');
    460▕ 
  ➜ 461▕     $response->assertOk();
    462▕ })->group('error-recovery');
    463▕ 
    464▕ test('handles invalid chat id format', function () {
    465▕     $user = User::factory()->create();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ErrorRecoveryTest > handles invalid chat id format     
  Expected response status code [422] but received 403.
Failed asserting that 403 is identical to 422.

  at tests/Feature/ErrorRecoveryTest.php:477
    473▕ 
    474▕     /**
    475▕      * Should validate and reject
    476▕      */
  ➜ 477▕     $response->assertStatus(422);
    478▕ })->group('error-recovery');
    479▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > complete user journey:…  Exception   
  Could not find a response for the request

  at vendor/prism-php/prism/src/Testing/PrismFake.php:330
    326▕         $responses = $this->responses;
    327▕         $sequence = $this->responseSequence;
    328▕ 
    329▕         if (! isset($responses[$sequence])) {
  ➜ 330▕             throw new Exception('Could not find a response for the request');
    331▕         }
    332▕ 
    333▕         $this->responseSequence++;
    334▕

      [2m+4 vendor frames [22m
  5   app/Jobs/GenerateChatTitle.php:36
      [2m+22 vendor frames [22m
  28  app/Http/Controllers/ChatController.php:260

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > multi-chat workflow wi…  Exception   
  Could not find a response for the request

  at vendor/prism-php/prism/src/Testing/PrismFake.php:330
    326▕         $responses = $this->responses;
    327▕         $sequence = $this->responseSequence;
    328▕ 
    329▕         if (! isset($responses[$sequence])) {
  ➜ 330▕             throw new Exception('Could not find a response for the request');
    331▕         }
    332▕ 
    333▕         $this->responseSequence++;
    334▕

      [2m+4 vendor frames [22m
  5   app/Jobs/GenerateChatTitle.php:36
      [2m+22 vendor frames [22m
  28  app/Http/Controllers/ChatController.php:260

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > avatar upload and profile update…    
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/IntegrationTest.php:255
    251▕             'name' => 'Updated Name',
    252▕             'email' => 'original@example.com',
    253▕         ]);
    254▕ 
  ➜ 255▕     $profileResponse->assertRedirect();
    256▕ 
    257▕     $user->refresh();
    258▕     expect($user->name)->toBe('Updated Name');
    259▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > password change and re-authentica…   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 405.
Failed asserting that false is true.

  at tests/Feature/IntegrationTest.php:324
    320▕             'password' => 'newpassword123',
    321▕             'password_confirmation' => 'newpassword123',
    322▕         ]);
    323▕ 
  ➜ 324▕     $changeResponse->assertRedirect();
    325▕ 
    326▕     /**
    327▕      * Step 3: Logout
    328▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > two-factor authentication complet…   
  Expecting null not to be null .

  at tests/Feature/IntegrationTest.php:365
    361▕ 
    362▕     $enableResponse->assertRedirect();
    363▕ 
    364▕     $user->refresh();
  ➜ 365▕     expect($user->two_factor_secret)->not->toBeNull();
    366▕ 
    367▕     /**
    368▕      * Step 2: View Recovery Codes
    369▕      */

  1   tests/Feature/IntegrationTest.php:365

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > social authentica…  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: social_identities.provider_name (Connection: sqlite, SQL: insert into "social_identities" ("user_id", "provider_id", "updated_at", "created_at") values (1, 123456, 2025-12-22 17:16:03, 2025-12-22 17:16:03))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:570
    566▕             $this->bindValues($statement, $this->prepareBindings($bindings));
    567▕ 
    568▕             $this->recordsHaveBeenModified();
    569▕ 
  ➜ 570▕             return $statement->execute();
    571▕         });
    572▕     }
    573▕ 
    574▕     /**

      [2m+17 vendor frames [22m
  18  tests/Feature/IntegrationTest.php:413

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\IntegrationTest > complete error and rec…  Exception   
  Could not find a response for the request

  at vendor/prism-php/prism/src/Testing/PrismFake.php:330
    326▕         $responses = $this->responses;
    327▕         $sequence = $this->responseSequence;
    328▕ 
    329▕         if (! isset($responses[$sequence])) {
  ➜ 330▕             throw new Exception('Could not find a response for the request');
    331▕         }
    332▕ 
    333▕         $this->responseSequence++;
    334▕

      [2m+4 vendor frames [22m
  5   app/Jobs/GenerateChatTitle.php:36
      [2m+22 vendor frames [22m
  28  app/Http/Controllers/ChatController.php:260

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\PerformanceTest > search response time is under 2 s…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/PerformanceTest.php:61
     57▕     $response = $this->actingAs($user)->get('/chat/search?q=test');
     58▕ 
     59▕     $duration = microtime(true) - $startTime;
     60▕ 
  ➜  61▕     $response->assertOk();
     62▕     expect($duration)->toBeLessThan(2.0);
     63▕ })->group('performance');
     64▕ 
     65▕ test('chat deletion response time is under 2 seconds', function () {

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\PerformanceTest > chat deletion response time is un…   
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/PerformanceTest.php:76
     72▕     $response = $this->actingAs($user)->delete("/c/{$chat->id}");
     73▕ 
     74▕     $duration = microtime(true) - $startTime;
     75▕ 
  ➜  76▕     $response->assertRedirect();
     77▕     expect($duration)->toBeLessThan(2.0);
     78▕ })->group('performance');
     79▕ 
     80▕ /*

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ProfileControllerTest > it validates profile update…   
  Session is missing expected key [errors].
Failed asserting that false is true.

  at tests/Feature/ProfileControllerTest.php:82
     78▕         ->patch(route('profile.update'), [
     79▕             'email' => 'test@example.com',
     80▕         ]);
     81▕ 
  ➜  82▕     $response->assertSessionHasErrors('name');
     83▕ });
     84▕ 
     85▕ it('validates profile update requires valid email', function () {
     86▕     $user = User::factory()->create();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\ProfileControllerTest > it uploads avatar and retur…   
  Expected response status code [>=200, <300] but received 500.
Failed asserting that false is true.

The following exception occurred during the last request:

TypeError: Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673 and defined in /home/shure/Documents/cassette/web/webai/vendor/brick/math/src/BigNumber.php:243
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php(1673): Brick\Math\BigNumber->isLessThanOrEqualTo(NULL)
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(686): Illuminate\Validation\Validator->validateMax('avatar', Object(Illuminate\Http\Testing\File), Array, Object(Illuminate\Validation\Validator))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(481): Illuminate\Validation\Validator->validateAttribute('avatar', 'Max')
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(516): Illuminate\Validation\Validator->passes()
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/ValidatesWhenResolvedTrait.php(31): Illuminate\Validation\Validator->fails()
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Providers/FormRequestServiceProvider.php(30): Illuminate\Foundation\Http\FormRequest->validateResolved()
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1620): Illuminate\Foundation\Providers\FormRequestServiceProvider->{closure:Illuminate\Foundation\Providers\FormRequestServiceProvider::boot():29}(Object(App\Http\Requests\AvatarUploadRequest), Object(Illuminate\Foundation\Application))
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1558): Illuminate\Container\Container->fireCallbackArray(Object(App\Http\Requests\AvatarUploadRequest), Array)
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(1544): Illuminate\Container\Container->fireAfterResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#9 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(951): Illuminate\Container\Container->fireResolvingCallbacks('App\\Http\\Reques...', Object(App\Http\Requests\AvatarUploadRequest))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1078): Illuminate\Container\Container->resolve('App\\Http\\Reques...', Array, true)
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Container/Container.php(864): Illuminate\Foundation\Application->resolve('App\\Http\\Reques...', Array)
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(1058): Illuminate\Container\Container->make('App\\Http\\Reques...', Array)
#13 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(92): Illuminate\Foundation\Application->make('App\\Http\\Reques...')
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#15 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\ProfileController), 'uploadAvatar')
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#26 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#64 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(61): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#65 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#66 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#67 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#68 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#69 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#71 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#73 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#74 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#75 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#76 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(397): Illuminate\Foundation\Testing\TestCase->call('POST', 'http://localhos...', Array, Array, Array, Array)
#77 /home/shure/Documents/cassette/web/webai/tests/Feature/ProfileControllerTest.php(178): Illuminate\Foundation\Testing\TestCase->post('http://localhos...', Array)
#78 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\ProfileControllerTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/ProfileControllerTest.php:173}()
#79 [internal function]: P\Tests\Feature\ProfileControllerTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#80 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\ProfileControllerTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\ProfileControllerTest->__callClosure(Object(Closure), Array)
#84 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(134): P\Tests\Feature\ProfileControllerTest->__runTest(Object(Closure))
#85 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\ProfileControllerTest->__pest_evaluable_it_uploads_avatar_and_returns_url()
#86 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#87 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#88 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\ProfileControllerTest))
#89 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#90 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#91 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#92 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#93 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#94 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#95 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#96 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#97 {main}

----------------------------------------------------------------------------------

Brick\Math\BigNumber::isLessThanOrEqualTo(): Argument #1 ($that) must be of type Brick\Math\BigNumber|string|int|float, null given, called in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Validation/Concerns/ValidatesAttributes.php on line 1673

  at tests/Feature/ProfileControllerTest.php:182
    178▕         ->post(route('avatar.upload'), [
    179▕             'avatar' => $file,
    180▕         ]);
    181▕ 
  ➜ 182▕     $response->assertSuccessful();
    183▕     $response->assertJsonStructure(['url']);
    184▕ 
    185▕     $user->refresh();
    186▕     expect($user->avatar)->not->toBeNull();

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\RateLimitingTest > chat stream enforces configured…    
  Failed asserting that false is true.

  at tests/Feature/RateLimitingTest.php:59
     55▕ 
     56▕     /**
     57▕      * Verify rate limit headers on blocked request
     58▕      */
  ➜  59▕     expect($blockedResponse->headers->has('X-RateLimit-Limit'))->toBeTrue();
     60▕     expect($blockedResponse->headers->get('X-RateLimit-Remaining'))->toBe('0');
     61▕ });
     62▕ 
     63▕ test('rate limit resets after time window', function () {

  1   tests/Feature/RateLimitingTest.php:59

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > returns empty results for non-matching…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:23
     19▕ 
     20▕     $response = $this->actingAs($this->user)
     21▕         ->getJson('/chat/search?q=nonexistent');
     22▕ 
  ➜  23▕     $response->assertOk()
     24▕         ->assertJson([
     25▕             'results' => [],
     26▕         ]);
     27▕ });

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > finds chats by title                      
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:45
     41▕ 
     42▕     $response = $this->actingAs($this->user)
     43▕         ->getJson('/chat/search?q=Laravel');
     44▕ 
  ➜  45▕     $response->assertOk();
     46▕ 
     47▕     $results = $response->json('results');
     48▕     $chats = collect($results)->where('type', 'chat')->values();
     49▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > finds messages by content                 
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:86
     82▕ 
     83▕     $response = $this->actingAs($this->user)
     84▕         ->getJson('/chat/search?q=policies');
     85▕ 
  ➜  86▕     $response->assertOk();
     87▕ 
     88▕     $results = $response->json('results');
     89▕     $messages = collect($results)->where('type', 'message')->values();
     90▕

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > limits results correctly                  
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:123
    119▕ 
    120▕     $response = $this->actingAs($this->user)
    121▕         ->getJson('/chat/search?q=Laravel');
    122▕ 
  ➜ 123▕     $response->assertOk();
    124▕ 
    125▕     $results = collect($response->json('results'));
    126▕     $chats = $results->where('type', 'chat');
    127▕     $messages = $results->where('type', 'message');

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > prevents SQL injection via special cha…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:166
    162▕     // If escaping is broken, "%" would match all 2 chats
    163▕     $response = $this->actingAs($this->user)
    164▕         ->getJson('/chat/search?q=%');
    165▕ 
  ➜ 166▕     $response->assertOk();
    167▕     $results = collect($response->json('results'));
    168▕ 
    169▕     // Should return 0 results because no titles contain literal "%"
    170▕     // If % was treated as wildcard, it would match everything

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SearchTest > only returns current users data           
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SearchTest.php:214
    210▕ 
    211▕     $response = $this->actingAs($this->user)
    212▕         ->getJson('/chat/search?q=Laravel');
    213▕ 
  ➜ 214▕     $response->assertOk();
    215▕ 
    216▕     $results = collect($response->json('results'));
    217▕     $chats = $results->where('type', 'chat');
    218▕     $messages = $results->where('type', 'message');

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > chat prompt sanitizes scr…  Exception   
  Could not find a response for the request

  at vendor/prism-php/prism/src/Testing/PrismFake.php:330
    326▕         $responses = $this->responses;
    327▕         $sequence = $this->responseSequence;
    328▕ 
    329▕         if (! isset($responses[$sequence])) {
  ➜ 330▕             throw new Exception('Could not find a response for the request');
    331▕         }
    332▕ 
    333▕         $this->responseSequence++;
    334▕

      [2m+4 vendor frames [22m
  5   app/Jobs/GenerateChatTitle.php:36
      [2m+22 vendor frames [22m
  28  app/Http/Controllers/ChatController.php:260

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > chat title sanitizes html tags          
  Expected response status code [201, 301, 302, 303, 307, 308] but received 404.
Failed asserting that false is true.

  at tests/Feature/SecurityTest.php:52
     48▕         ->patchJson("/c/{$chat->id}", [
     49▕             'title' => $xssPayload,
     50▕         ]);
     51▕ 
  ➜  52▕     $response->assertRedirect();
     53▕ 
     54▕     $chat->refresh();
     55▕     expect($chat->title)->toBe($xssPayload);
     56▕ });

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > search query sanitizes sql wildcard…    
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SecurityTest.php:68
     64▕      * Test that % doesn't act as SQL LIKE wildcard
     65▕      */
     66▕     $response = $this->actingAs($user)->get('/chat/search?q=%');
     67▕ 
  ➜  68▕     $response->assertOk();
     69▕     $results = $response->json();
     70▕ 
     71▕     /**
     72▕      * Should return 0 results because no titles contain literal "%"

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > search query sanitizes underscore wi…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SecurityTest.php:86
     82▕      * Test that _ doesn't act as single character wildcard
     83▕      */
     84▕     $response = $this->actingAs($user)->get('/chat/search?q=P_P');
     85▕ 
  ➜  86▕     $response->assertOk();
     87▕     $results = $response->json();
     88▕ 
     89▕     /**
     90▕      * Should return 0 because no content has literal "P_P"

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > search prevents sql injection in que…   
  Expected response status code [200] but received 302.
Failed asserting that 302 is identical to 200.

  at tests/Feature/SecurityTest.php:112
    108▕     $maliciousSql = "'; DROP TABLE chats; --";
    109▕ 
    110▕     $response = $this->actingAs($user)->get('/chat/search?q=' . urlencode($maliciousSql));
    111▕ 
  ➜ 112▕     $response->assertOk();
    113▕ 
    114▕     /**
    115▕      * Verify table still exists
    116▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > cannot update other user chat via pa…   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/SecurityTest.php:179
    175▕         ->patchJson("/c/{$user2Chat->id}", [
    176▕             'title' => 'Hacked Title',
    177▕         ]);
    178▕ 
  ➜ 179▕     $response->assertForbidden();
    180▕ 
    181▕     /**
    182▕      * Verify title unchanged
    183▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\SecurityTest > cannot delete other user chat via pa…   
  Expected response status code [403] but received 404.
Failed asserting that 404 is identical to 403.

  at tests/Feature/SecurityTest.php:195
    191▕     $user2Chat = Chat::factory()->for($user2)->create();
    192▕ 
    193▕     $response = $this->actingAs($user1)->deleteJson("/c/{$user2Chat->id}");
    194▕ 
  ➜ 195▕     $response->assertForbidden();
    196▕ 
    197▕     /**
    198▕      * Verify chat still exists
    199▕      */

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Settings\TwoFactorAuthenticat…  AssertionFailedError   
  Not a valid Inertia response.

  at vendor/inertiajs/inertia-laravel/src/Testing/AssertableInertia.php:77
     73▕             PHPUnit::assertArrayHasKey('version', $page);
     74▕             PHPUnit::assertArrayHasKey('encryptHistory', $page);
     75▕             PHPUnit::assertArrayHasKey('clearHistory', $page);
     76▕         } catch (AssertionFailedError $e) {
  ➜  77▕             PHPUnit::fail('Not a valid Inertia response.');
     78▕         }
     79▕ 
     80▕         $instance = static::fromArray($page['props']);
     81▕         $instance->component = $page['component'];

      [2m+3 vendor frames [22m
  4   tests/Feature/Settings/TwoFactorAuthenticationTest.php:22

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Settings\TwoFactorAuthenticationTest > two factor s…   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

ReflectionException: Class "App\Http\Requests\Settings\TwoFactorAuthenticationRequest" does not exist in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php:88
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(88): ReflectionClass->__construct('App\\Http\\Reques...')
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#9 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#13 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#15 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#26 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call('GET', 'http://localhos...', Array, Array, Array, Array)
#64 /home/shure/Documents/cassette/web/webai/tests/Feature/Settings/TwoFactorAuthenticationTest.php(59): Illuminate\Foundation\Testing\TestCase->get('http://localhos...')
#65 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/Settings/TwoFactorAuthenticationTest.php:46}()
#66 [internal function]: P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#67 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#68 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#69 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__callClosure(Object(Closure), Array)
#71 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(35): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__runTest(Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__pest_evaluable_two_factor_settings_page_does_not_requires_password_confirmation_when_disabled()
#73 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#74 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#75 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\Settings\TwoFactorAuthenticationTest))
#76 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#77 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#78 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#79 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#80 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#84 {main}

----------------------------------------------------------------------------------

Class "App\Http\Requests\Settings\TwoFactorAuthenticationRequest" does not exist

  at tests/Feature/Settings/TwoFactorAuthenticationTest.php:60
     56▕     ]);
     57▕ 
     58▕     $this->actingAs($user)
     59▕         ->get(route('two-factor.show'))
  ➜  60▕         ->assertOk()
     61▕         ->assertInertia(fn (Assert $page) => $page
     62▕             ->component('settings/TwoFactor')
     63▕         );
     64▕ });

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Settings\TwoFactorAuthenticationTest > two factor s…   
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

ReflectionException: Class "App\Http\Requests\Settings\TwoFactorAuthenticationRequest" does not exist in /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php:88
Stack trace:
#0 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(88): ReflectionClass->__construct('App\\Http\\Reques...')
#1 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(51): Illuminate\Routing\ControllerDispatcher->transformDependency(Object(ReflectionParameter), Array, Object(stdClass))
#2 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ResolvesRouteDependencies.php(30): Illuminate\Routing\ControllerDispatcher->resolveMethodDependencies(Array, Object(ReflectionMethod))
#3 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(59): Illuminate\Routing\ControllerDispatcher->resolveClassMethodDependencies(Array, Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#4 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(40): Illuminate\Routing\ControllerDispatcher->resolveParameters(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#5 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch(Object(Illuminate\Routing\Route), Object(App\Http\Controllers\Settings\TwoFactorAuthenticationController), 'show')
#6 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Route.php(211): Illuminate\Routing\Route->runController()
#7 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(822): Illuminate\Routing\Route->run()
#8 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Routing\Router->{closure:Illuminate\Routing\Router::runRouteWithinStack():821}(Object(Illuminate\Http\Request))
#9 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/AddRateLimitHeaders.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#10 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\AddRateLimitHeaders->handle(Object(Illuminate\Http\Request), Object(Closure))
#11 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/AddLinkHeadersForPreloadedAssets.php(32): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#12 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\AddLinkHeadersForPreloadedAssets->handle(Object(Illuminate\Http\Request), Object(Closure))
#13 /home/shure/Documents/cassette/web/webai/vendor/inertiajs/inertia-laravel/src/Middleware.php(122): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#14 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Inertia\Middleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#15 /home/shure/Documents/cassette/web/webai/app/Http/Middleware/HandleAppearance.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#16 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): App\Http\Middleware\HandleAppearance->handle(Object(Illuminate\Http\Request), Object(Closure))
#17 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#18 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle(Object(Illuminate\Http\Request), Object(Closure))
#19 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(63): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#20 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle(Object(Illuminate\Http\Request), Object(Closure))
#21 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(87): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#22 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\VerifyCsrfToken->handle(Object(Illuminate\Http\Request), Object(Closure))
#23 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#24 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\View\Middleware\ShareErrorsFromSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#25 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(120): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#26 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(63): Illuminate\Session\Middleware\StartSession->handleStatefulRequest(Object(Illuminate\Http\Request), Object(Illuminate\Session\Store), Object(Closure))
#27 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Session\Middleware\StartSession->handle(Object(Illuminate\Http\Request), Object(Closure))
#28 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#29 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse->handle(Object(Illuminate\Http\Request), Object(Closure))
#30 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(74): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#31 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Cookie\Middleware\EncryptCookies->handle(Object(Illuminate\Http\Request), Object(Closure))
#32 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#33 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(821): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#34 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(800): Illuminate\Routing\Router->runRouteWithinStack(Object(Illuminate\Routing\Route), Object(Illuminate\Http\Request))
#35 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(764): Illuminate\Routing\Router->runRoute(Object(Illuminate\Http\Request), Object(Illuminate\Routing\Route))
#36 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Routing/Router.php(753): Illuminate\Routing\Router->dispatchToRoute(Object(Illuminate\Http\Request))
#37 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(200): Illuminate\Routing\Router->dispatch(Object(Illuminate\Http\Request))
#38 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(180): Illuminate\Foundation\Http\Kernel->{closure:Illuminate\Foundation\Http\Kernel::dispatchToRouter():197}(Object(Illuminate\Http\Request))
#39 /home/shure/Documents/cassette/web/webai/vendor/livewire/livewire/src/Features/SupportDisablingBackButtonCache/DisableBackButtonCacheMiddleware.php(19): Illuminate\Pipeline\Pipeline->{closure:Illuminate\Pipeline\Pipeline::prepareDestination():178}(Object(Illuminate\Http\Request))
#40 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Livewire\Features\SupportDisablingBackButtonCache\DisableBackButtonCacheMiddleware->handle(Object(Illuminate\Http\Request), Object(Closure))
#41 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#42 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#43 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle(Object(Illuminate\Http\Request), Object(Closure))
#44 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#45 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle(Object(Illuminate\Http\Request), Object(Closure))
#46 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle(Object(Illuminate\Http\Request), Object(Closure))
#47 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#48 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle(Object(Illuminate\Http\Request), Object(Closure))
#49 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#50 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle(Object(Illuminate\Http\Request), Object(Closure))
#51 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/HandleCors.php(48): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#52 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle(Object(Illuminate\Http\Request), Object(Closure))
#53 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/TrustProxies.php(58): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#54 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle(Object(Illuminate\Http\Request), Object(Closure))
#55 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#56 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle(Object(Illuminate\Http\Request), Object(Closure))
#57 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Http/Middleware/ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#58 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle(Object(Illuminate\Http\Request), Object(Closure))
#59 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(137): Illuminate\Pipeline\Pipeline->{closure:{closure:Illuminate\Pipeline\Pipeline::carry():194}:195}(Object(Illuminate\Http\Request))
#60 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(175): Illuminate\Pipeline\Pipeline->then(Object(Closure))
#61 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter(Object(Illuminate\Http\Request))
#62 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle(Object(Illuminate\Http\Request))
#63 /home/shure/Documents/cassette/web/webai/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(368): Illuminate\Foundation\Testing\TestCase->call('GET', 'http://localhos...', Array, Array, Array, Array)
#64 /home/shure/Documents/cassette/web/webai/tests/Feature/Settings/TwoFactorAuthenticationTest.php(77): Illuminate\Foundation\Testing\TestCase->get('http://localhos...')
#65 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseMethodFactory.php(168): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:/home/shure/Documents/cassette/web/webai/tests/Feature/Settings/TwoFactorAuthenticationTest.php:66}()
#66 [internal function]: P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:Pest\Factories\TestCaseMethodFactory::getClosure():158}()
#67 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): call_user_func_array(Object(Closure), Array)
#68 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Support/ExceptionTrace.php(26): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->{closure:Pest\Concerns\Testable::__callClosure():429}()
#69 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(429): Pest\Support\ExceptionTrace::ensure(Object(Closure))
#70 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Concerns/Testable.php(331): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__callClosure(Object(Closure), Array)
#71 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Factories/TestCaseFactory.php(169) : eval()'d code(44): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__runTest(Object(Closure))
#72 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(1326): P\Tests\Feature\Settings\TwoFactorAuthenticationTest->__pest_evaluable_two_factor_settings_page_returns_forbidden_response_when_two_factor_is_disabled()
#73 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(519): PHPUnit\Framework\TestCase->runTest()
#74 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestRunner/TestRunner.php(99): PHPUnit\Framework\TestCase->runBare()
#75 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestCase.php(359): PHPUnit\Framework\TestRunner->run(Object(P\Tests\Feature\Settings\TwoFactorAuthenticationTest))
#76 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestCase->run()
#77 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#78 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/Framework/TestSuite.php(374): PHPUnit\Framework\TestSuite->run()
#79 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#80 /home/shure/Documents/cassette/web/webai/vendor/phpunit/phpunit/src/TextUI/Application.php(229): PHPUnit\TextUI\TestRunner->run(Object(PHPUnit\TextUI\Configuration\Configuration), Object(PHPUnit\Runner\ResultCache\DefaultResultCache), Object(PHPUnit\Framework\TestSuite))
#81 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/src/Kernel.php(103): PHPUnit\TextUI\Application->run(Array)
#82 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(184): Pest\Kernel->handle(Array, Array)
#83 /home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest(192): {closure:/home/shure/Documents/cassette/web/webai/vendor/pestphp/pest/bin/pest:18}()
#84 {main}

----------------------------------------------------------------------------------

Class "App\Http\Requests\Settings\TwoFactorAuthenticationRequest" does not exist

  at tests/Feature/Settings/TwoFactorAuthenticationTest.php:78
     74▕ 
     75▕     $this->actingAs($user)
     76▕         ->withSession(['auth.password_confirmed_at' => time()])
     77▕         ->get(route('two-factor.show'))
  ➜  78▕         ->assertForbidden();
     79▕ });
     80▕


  Tests:    67 failed, 2 skipped, 137 passed (478 assertions)
  Duration: 13.82s

